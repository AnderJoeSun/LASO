---
layout: post
title: 源码开放学ARM - LCD 控制器 - LCD 控制器结构
---

## LCD 控制器结构
	                                                             
[LCD 控制器结构](http://image24.360doc.com/DownloadImg/2011/02/2523/9490302_1.jpg)     
                                                                     
	2012-07-24 ARM 开发课程
	
	自我介绍 李明
	
	
	hypertrm
	
	115200 硬件流控制 设置为 无 ，否则无法输入
	
	重启，按 5 exit -> e exit -> 输入 help
	
	查看有没有 loadb 命令	
	
	loadb 菜单 传送 -> 发送文件 -> Kermit 协议
	选择 painter.bin 
	点击发送
	
	显示 start address = 0x50000000
	
	go 0x50000000 (DDR SDRAM)
	
	infocenter.arm.com
	
	NandFlash -> 硬件 拷贝 SRAM(8K) 0xc000000 -> 映射（片选使能）
	
	md/mw 命令可以读写任意地址 32位
	其中
	0x0c000000 -> 片内的 SRAM (8K)
	0x50000000 -> 片外的 SDRAM (256M)
	0x7f005020 -> 片内的 SFR (1000多个)
	r0,r1 -> 通用寄存器 37个 (ARM1176内核里面)
	
	S5PV210 （tiny210） www.lumit.org
	
	
	*(int *)0x7F008830 = 0x00001000;
	*(int *)0x7F008834 = 0x0;
	
	
	output
	mw 0x7F008830 0x00001000	
	
	亮
	mw 0x7F008834 0x0		
	
	灭
	mw 0x7F008834 0x40		
	
	ADS1.2 安装 （最新DS-5）
	1. typical -> FULL 选择完全安装
	2. install licence -> 
		直接点 Browser 按钮定位到 -> ads1.2\CRACK\LICENSE.DAT
	
	New Project -> demo.mcp
	New file -> demo.c
	compiler -> demo.o
	make -> demo.axf
	fromelf -> demo.bin
	
	SMDK6410 # loadb
	## Ready for binary (kermit) download to 0x50000000 at 115200 bps...
	## Total Size      = 0x0000001c = 28 Bytes
	## Start Addr      = 0x50000000
	SMDK6410 # go 0x50000000
	## Starting application at 0x50000000 ...
	
	pc 上面的 bin 文件传输到 sdram 0x50000000
	
	
	LCD 驱动的要素
	1. lcd init 初始化相关的特殊功能寄存器 SFR
	2. 对 LCD 的 framebuffer (FB) 进行数据赋值
	RGB 3个字节来表示 ROW * COL * 3 字节 
	565 (5bit + 6bit +5bit) 2 字节
	3. DMA 操作把 SDRAM 上的数据发送给 LCD Driver
	
	LCD controller	控制器 (S3C6410 SoC) -> 
	LCD Signals 信号 (50 pin)
	--------------------------------- U3
	LCD Module 模块
		LCD driver 驱动器
		TFT 显示屏
		
	软件的工作
		1. 配置管脚的功能复用
		2. 配置LCD控制器的工作参数(包含了时序参数) (SFR)
		3. 指定 LCD 内部 DMA 传送的数据起始地址 (FB)
		4. 对 FB 帧缓存区域的数据进行写数据的操作
			
	硬件的工作
		1. LCD控制器内部的DMA开始工作，就是将 FB 的字节通过 signal 传输出去
		2. 其中 RGB 3字节数据，DMA读出来，通过24根VD数据线发送给 LCD module
		3. RGB interface 对时序有一定的要求，传输必须按照约定的时序（是由lcd module的提供厂家给出相关参数）
		
	480列 * 272行
	RGB Interface： 接口 Signals
		VD[0:23]	24 根数据线
		VCLK 		像素时钟
		VSYNC		场同步	480*272个像素时钟可以传输1场的数据
		HSYNC		行同步	480个像素时钟可以传输1行的数据
		
		HOZVAL	列数（一行传输多少个像素点）、
		H
			SPW			Pulse-Width
			BPD			Back 后肩
			FPD			Front 前肩
		V
			SPW			
			BPD
			FPD
			
		6个时间延迟参数	
			
		
	loadb 0x51000000 
	下载 wav/bmp 文件，用 kermit 协议
	
	loadb
	下载 bin 文件，默认地址 0x50000000
	
	go 0x50000000
	执行 bin, 会从 0x51000000 读取文件，进行显示或者播放
	
	LCD 数据量
		1 VCLK = 9Mhz = 10Mhz
		1 second = 10*1000000 个像素
		10 * 10^6 * 3字节 = 30Mbytes
	
	WAV 
		双声道 2 channel
		数据采样位 16bit = 2byte
		数据采样频率 22Khz
		1 second = 22K * 2 * 2 = 88Kbytes
		88K * 8 = 600K




[上一节](chp12-3.html)  |  [目录索引](../index.html)  |  [下一节](chp12-5.html)
